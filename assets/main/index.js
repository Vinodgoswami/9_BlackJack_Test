System.register("chunks:///_virtual/Asset.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Costant.ts","./GameData.ts","./Utility.ts"],(function(t){"use strict";var e,i,n,a,s,o,r,m,l,u,d;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,a=t.assetManager,s=t.SpriteFrame,o=t.Texture2D,r=t.Component},function(t){m=t.LOG_VISIBILITY,l=t.MUSIC_TYPE},function(t){u=t.GameData},function(t){d=t.consoleMyLog}],execute:function(){var c,h;i._RF.push({},"27f87//sH9EKYVrqFs6RQac","Asset",void 0);var g=n.ccclass;t("Asset",g("Asset")(((h=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).spriteFrameTest=null,e.gameUI=new Array,e.WOFSymbol=new Array,e.gameAudios=new Array,e.paylineAudios=new Array,e.paylineAnimation=new Array,e.WOFSymbolList=void 0,e.totalAssets=0,e.totalAssetsLoaded=0,e.startLoading=!1,e.isLoadingError=!1,e}e(i,t);var n=i.prototype;return n.start=function(){},n.Asset=function(){},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},n.LoadWOFSymbols=function(t){this.totalAssets=this.totalAssets+t.length,this.startLoading=!0;for(var e=0;e<t.length;e++)this.loadWOFSymbol(t[e].symbolOnFile,t[e]._id,t[e].symbolDescription)},n.LoadGameUI_SFrames=function(t,e){if(e.length&&e.length!=this.gameUI.length){for(var i=0;i<e.length;i++)this.loadGameUI_SFrames(t,e[i]);d("spriteFrames in UI:",this.gameUI,m.NETWORK)}},n.LoadLanguageBasedGameUI_SFrames=function(t,e,i){var n=this;return new Promise((function(a,s){e.length||s("Error");for(var o=0;o<e.length;o++)n.loadLanguageBasedGameUI_SFrames(t,i+"_"+e[o]);d("LanguageBased spriteFrames in UI: "+i,n.gameUI,m.NETWORK),a("Success")}))},n.LoadGameAudios=function(t){if(t&&t.length){this.totalAssets=this.totalAssets+t.filter((function(t){return t.musicType===l.PAYLINE})).length,this.startLoading=!0;for(var e=0;e<t.length;e++)t[e].musicType===l.PAYLINE?this.loadPaylineAudio(t[e].musicBaseUrl,t[e]._id,t[e].musicName,t[e].musicType):this.loadGameAudio(t[e].musicBaseUrl,t[e]._id,t[e].musicName,t[e].musicType)}},n.loadWOFSymbol=function(t,e,i){var n=this;a.loadRemote(t,(function(t,a){if(t)n.isLoadingError=!0;else{var r=new s,m=new o;m.image=a,r.texture=m,n.totalAssetsLoaded++,n.WOFSymbol.push({sFrame:r,id:e,symbolDescription:i,isAnimation:null,animationFrames:null})}}))},n.loadGameUI_SFrames=function(t,e){var i=this;a.loadRemote(t+e,(function(t,n){if(t)d("Errorr!!",t,m.NETWORK);else{var a=new s,r=new o;r.image=n,a.texture=r,i.gameUI.push({sFrame:a,id:"",symbolDescription:e,isAnimation:!1,animationFrames:[]})}}))},n.loadLanguageBasedGameUI_SFrames=function(t,e){var i=this;a.loadRemote(t+e,(function(t,n){if(t);else{var a=new s,r=new o;r.image=n,a.texture=r,a.packable=!0;var m=i.gameUI.find((function(t){return t.symbolDescription==e}));m?m.sFrame=a:i.gameUI.push({sFrame:a,id:"",symbolDescription:e,isAnimation:!1,animationFrames:[]})}}))},n.LoadPaylineAnimations=function(t){if(t.length)for(var e=0;e<t.length;e++)this.totalAssets=this.totalAssets+t[e].animationImages.length,this.paylineAnimation.push({id:t[e]._id,animationFrames:[],animationDescription:t[e].animationName}),this.loadAnimationFrames(t[e].animationImages,0,t[e].animationImages.length,this.paylineAnimation[this.paylineAnimation.length-1].animationFrames)},n.LoadBG=function(t){var e=this;return new Promise((function(i,n){a.loadRemote(t,(function(t,a){if(t)d("Errorr!!",t,m.NETWORK),n(t);else{var r=new s,l=new o;l.image=a,r.texture=l,e.gameUI.push({sFrame:r,id:"0",symbolDescription:"BG",isAnimation:!1,animationFrames:[]}),i(a)}}))}))},n.loadAnimationFrames=function(t,e,i,n){var r=this;a.loadRemote(t[e],(function(a,m){if(a)r.isLoadingError=!0;else{var l=new s,u=new o;if(u.image=m,l.texture=u,e++,r.totalAssetsLoaded++,n.push(l),i==e)return;r.loadAnimationFrames(t,e,i,n)}}))},n.loadPaylineAudio=function(t,e,i,n){var s=this;a.loadRemote(t,(function(t,a){t?s.isLoadingError=!0:(s.totalAssetsLoaded++,s.paylineAudios.push({id:e,sound:a,soundType:n,symbolDescription:i}))}))},n.loadGameAudio=function(t,e,i,n){var s=this;a.loadRemote(t,(function(t,a){t||s.gameAudios.push({id:e,sound:a,soundType:n,symbolDescription:i})}))},n.LoadGameTextData=function(t){return new Promise((function(e,i){t||i("Error"),a.loadRemote(t,(function(i,n){i?d("Error in loading JSON FOR LANGUAGE::::",t,m.NETWORK):(n.json.Instruction0?(u.Instance.GameTextData=n,d("WOF CHANGE JSON LOADED FOR LANGUAGE::::",u.Instance.GameTextData,m.NETWORK)):d("WRONG JSON LOADED FOR LANGUAGE::::",n,m.NETWORK),e(n))}))}))},n.getUIFileWithName=function(t){for(var e,i=0;i<this.gameUI.length;i++)if(0==t.localeCompare(this.gameUI[i].symbolDescription)){e=this.gameUI[i].sFrame;break}return e},n.getLoadPercentage=function(){return this.totalAssetsLoaded/this.totalAssets},n.canStartLoading=function(){return this.startLoading},n.checkIfLoadingError=function(){return this.isLoadingError},n.updateWOFSymbolList=function(t){this.WOFSymbolList=t},n.getWOFSymbol=function(t){for(var e,i,n="s"+t,a=0;a<this.WOFSymbolList.length;a++)if(i=this.WOFSymbolList[a][n]){d("id",i,m.INFO);break}for(var s=0;s<this.WOFSymbol.length;s++)if(i==this.WOFSymbol[s].id){e=this.WOFSymbol[s].sFrame,d(this.name,"Found",m.INFO);break}return{sFrame:e,id:i}},n.getpaylineAudioById=function(t){for(var e,i=0;i<this.paylineAudios.length;i++)if(t==this.paylineAudios[i].id){e=this.paylineAudios[i].sound;break}return e},n.getPaylineAnimationById=function(t){for(var e,i=0;i<this.paylineAnimation.length;i++)if(t==this.paylineAnimation[i].id){e=this.paylineAnimation[i].animationFrames;break}return e},n.getGameAudioByType=function(t){for(var e,i=0;i<this.gameAudios.length;i++)if(t===this.gameAudios[i].soundType){e=this.gameAudios[i].sound;break}return e},n.getWOFGameTextByKey=function(t){return u.Instance.GameTextData.json[t]?u.Instance.GameTextData.json[t].toUpperCase():""},i}(r))._instance=void 0,c=h))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonName.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Costant.ts"],(function(e){"use strict";var t,n,a,o,r,i,s,c,u,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,i=e._decorator,s=e.Enum,c=e.Component},function(e){u=e.BUTTON_TYPE,E=e.BUTTON_NAME}],execute:function(){var l,p,_,h,L;r._RF.push({},"582b5ghXjFEm7nGcG4liJSa","ButtonName",void 0);var m=i.ccclass,N=i.property;e("ButtonName",(l=m("ButtonName"),p=N({type:s(u)}),l((L=t((h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,a(t,"buttonType",L,o(t)),t.button=null,t}return n(t,e),t.prototype.start=function(){switch(this.buttonType){case u.SPIN:this.node.name=E.SPIN;break;case u.DEC_LEVEL_VALUE:this.node.name=E.DEC_LEVEL_VALUE;break;case u.INC_LEVEL_VALUE:this.node.name=E.INC_LEVEL_VALUE;break;case u.FREE_SPIN_TOGGLE:this.node.name=E.FREE_SPIN_TOGGLE;break;case u.SOUND:this.node.name=E.SOUND;break;case u.GREYBG:this.node.name=E.GREYBG}},t}(c)).prototype,"buttonType",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=h))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/Costant.ts",["cc"],(function(E){"use strict";var _;return{setters:[function(E){_=E.cclegacy}],execute:function(){var e;E("BUTTON_TYPE",void 0),_._RF.push({},"6a2db8gZYdBxIbJfGcQ9RFn","Costant",void 0),function(E){E[E.NONE=0]="NONE",E[E.SPIN=1]="SPIN",E[E.DEC_LEVEL_VALUE=2]="DEC_LEVEL_VALUE",E[E.INC_LEVEL_VALUE=3]="INC_LEVEL_VALUE",E[E.FREE_SPIN_TOGGLE=4]="FREE_SPIN_TOGGLE",E[E.GREYBG=5]="GREYBG",E[E.SOUND=6]="SOUND"}(e||(e=E("BUTTON_TYPE",{})));E("BUTTON_NAME",{SPIN:"SPIN",DEC_LEVEL_VALUE:"DEC_LEVEL_VALUE",INC_LEVEL_VALUE:"INC_LEVEL_VALUE",FREE_SPIN_TOGGLE:"Free_Spin_Toggle",GREYBG:"GREYBG",SOUND:"SOUND"}),E("MUSIC_TYPE",{PAYLINE:1,WOF_BACKGROUND:5,WOF_GLOWING:6,WOF_ROLLING:7,WOF_BETTER_LUCK:8}),E("LOG_VISIBILITY",{NETWORK:!0,CEHCK:!1,INFO:!0,MISCELLANEOUS:!1,BLOCKCHAIN:!1,DEBUGDRAW:!1}),E("SOCKET_EVENT_KEYS",{GAME_DATA:"gameData",USER_STATUS:"userStatus"}),E("SOCKET_EVENTS",{Connect:"connect",Reconnect:"reconnect",Reconnecting:"reconnecting",Disconnect:"disconnect",Error:"error",Message:"message",EventTest:"Test",GameData:"GameData"});_._RF.pop()}}}));

System.register("chunks:///_virtual/GameData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"db0b2NXIftLLa79Dij7fHMv","GameData",void 0),e("GameData",function(){function e(){this.LevelBet={},this.CashToCoinRate={},this.maxLevel=void 0,this.totalFreeSpins=0,this.freeSpinsLevel=0,this.isFreeSpinSelected=!1,this.spinTime=1,this.betValue=void 0,this.totalluxe=void 0,this.userBlocked=!1,this.megaPrize=0,this.majorPrize=0,this.userConnected=window.navigator.onLine,this.gameTextData=null,this.gameLanguage="en"}var n=e.prototype;return n.GameData=function(){},n.addLevelBet=function(e,t){this.LevelBet[e]=t},n.getLevelBet=function(e){return this.LevelBet[e.toString()]},t(e,[{key:"GameTextData",get:function(){return this.gameTextData},set:function(e){this.gameTextData=e}},{key:"GameLanguage",get:function(){return this.gameLanguage},set:function(e){this.gameLanguage=e}},{key:"SpinTime",get:function(){return this.spinTime},set:function(e){this.spinTime=e}},{key:"IsFreeSpinSelected",get:function(){return this.isFreeSpinSelected},set:function(e){this.isFreeSpinSelected=e}},{key:"TotalFreeSpins",get:function(){return this.totalFreeSpins},set:function(e){this.totalFreeSpins=e}},{key:"FreeSpinsLevel",get:function(){return this.freeSpinsLevel},set:function(e){this.freeSpinsLevel=e}},{key:"MaxLevel",get:function(){return this.maxLevel},set:function(e){this.maxLevel=e}},{key:"BetValue",get:function(){return this.betValue},set:function(e){this.betValue=e}},{key:"Totalluxe",get:function(){return this.totalluxe},set:function(e){this.totalluxe=e}},{key:"UserBlocked",get:function(){return this.userBlocked},set:function(e){this.userBlocked=e}},{key:"UserConnected",get:function(){return this.userConnected},set:function(e){this.userConnected=e}},{key:"MegaPrize",get:function(){return this.megaPrize},set:function(e){this.megaPrize=e}},{key:"MajorPrize",get:function(){return this.majorPrize},set:function(e){this.majorPrize=e}}],[{key:"Instance",get:function(){return e._instance||(e._instance=new e),e._instance}}]),e}())._instance=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Costant.ts","./GameData.ts","./Utility.ts","./Asset.ts","./NetworkConfig.ts","./NetworkManager.ts","./ResourceUtils.ts","./SoundManager.ts"],(function(e){"use strict";var t,n,a,i,s,o,r,c,l,u,h,d,p,f,S,g,F;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,a=e._decorator,i=e.AudioSource,s=e.macro,o=e.Component},function(e){r=e.MUSIC_TYPE,c=e.LOG_VISIBILITY},function(e){l=e.GameData},function(e){u=e.MyComponent,h=e.consoleMyLog},function(e){d=e.Asset},function(e){p=e.API_END_POINTS,f=e.REQUEST_TYPE},function(e){S=e.NetworkManager},function(e){g=e.ResourceUtils},function(e){F=e.SoundManager}],execute:function(){var I;n._RF.push({},"e448dG72+BDQJpWfEdKi934","GameManager",void 0);var O=a.ccclass;a.property,e("GameManager",O("GameManager")(I=function(e){function n(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).HUDHandler=void 0,t.wheelOfFortune=void 0,t.dataRecieved=!1,t.wheelOfFortuneResult=new Array,t.wheelOfFortunePrize=void 0,t.wheelOfFortuneCoins=void 0,t.userTokens=0,t._delegateLoading=void 0,t.paylineMusicId="",t.paylineAanimationId="",t}t(n,e);var a=n.prototype;return a.start=function(){F.getInstance().init(this.node.getComponent(i)),d.getInstance().getGameAudioByType(r.WOF_BACKGROUND)&&this.node.getComponent(i)&&(this.node.getComponent(i).clip=d.getInstance().getGameAudioByType(r.WOF_BACKGROUND)),F.getInstance().playMusic(!0),this.initPrefabs()},a.setLoadingDelegate=function(e){this._delegateLoading=e},a.onLoad=function(){},a.spin=function(){this.canPlaceBet()&&(this.requestResult(),this.wheelOfFortune.cScript.spinWheel(),this.HUDHandler.cScript.updateWinStat(0))},a.stop=function(){this.schedule(this.checkCanStop,l.Instance.SpinTime,s.REPEAT_FOREVER,0)},a.checkCanStop=function(){this.dataRecieved&&(this.unschedule(this.checkCanStop),this.wheelOfFortune.cScript.stopWheel([].concat(this.wheelOfFortuneResult),this.wheelOfFortunePrize,this.wheelOfFortuneCoins,this.paylineMusicId,this.paylineAanimationId),this.dataRecieved=!1)},a.canSpinAgain=function(){this.HUDHandler.cScript.canSpinWheel(!0)},a.timeOver=function(){this.HUDHandler.cScript.timeOver(),this.stop()},a.initPrefabs=function(){this.wheelOfFortune=new u,this.wheelOfFortune.setData(this.node,"WheelOfFortune"),this.wheelOfFortune.cScript.setDelegateGM(this),this.HUDHandler=new u(g.getInstance().getPrefab("HUD"),"HUD",this.node),this.HUDHandler.cScript.setDelegate(this),this.showWheelOfFortune()},a.showWheelOfFortune=function(){this.wheelOfFortuneResult=[1,1,1],this.wheelOfFortunePrize="625e9179a169df686a586a58",this.wheelOfFortuneCoins=30,this.wheelOfFortune.cScript.showWOF(this.wheelOfFortuneResult,this.wheelOfFortunePrize,this.wheelOfFortuneCoins)},a.updateGameLanguage=function(){this.HUDHandler&&this.HUDHandler.cScript.changeText(),this.HUDHandler&&this.HUDHandler.cScript.changeSpinButtonAssets(l.Instance.GameLanguage),this.wheelOfFortune&&this.wheelOfFortune.cScript.changeText(),this.wheelOfFortune&&this.wheelOfFortune.cScript.changeTitleAssets(l.Instance.GameLanguage),this._delegateLoading&&this._delegateLoading.changeText()},a.requestResult=function(){var e=this;h(this.name,"Bet Value: "+l.Instance.BetValue,c.INFO);S.getInstance().sendGetWithQueryString(p.SPIN_WHEEL,f.GET,{gameId:localStorage.gameId,bet:l.Instance.BetValue,isFreeSpin:l.Instance.IsFreeSpinSelected},(function(t){t=JSON.parse(t),h(e.name,t,c.NETWORK),e.dataRecieved=!0,e.wheelOfFortuneResult=t.data.wheelOfFortuneResult,h(e.name,"this.wheelOfFortuneResult : "+e.wheelOfFortuneResult,c.NETWORK),e.wheelOfFortunePrize=t.data.wheelOfFortunePrize,e.wheelOfFortuneCoins=t.data.wheelOfFortuneCoins,e.paylineMusicId=t.data.wofMusicId,e.paylineAanimationId=t.data.wofAnimationId,e.userTokens=t.data.userTokens,l.Instance.TotalFreeSpins=t.data.freeSpinRemaining,l.Instance.Totalluxe=t.data.userTokens}),(function(t){h(e.name,"on failure data",c.NETWORK),e._delegateLoading&&e._delegateLoading.showPopUp("Connection Error, Please Try Again!",(function(){e.dataRecieved=!0,e.wheelOfFortuneResult=[],e.wheelOfFortuneCoins=0,e.wheelOfFortunePrize="",e.timeOver(),e.cancelBet()}))}),!0)},a.updateTokens=function(){this.HUDHandler.cScript.updateCashStat(this.userTokens),this.HUDHandler.cScript.updateWinStat(this.wheelOfFortuneCoins),l.Instance.IsFreeSpinSelected&&this.HUDHandler.cScript.levelButtonsInteraction(!1)},a.canPlaceBet=function(){var e=l.Instance.BetValue;return!(e>l.Instance.Totalluxe)&&(l.Instance.IsFreeSpinSelected?l.Instance.IsFreeSpinSelected&&(this.HUDHandler.cScript.updateFreeSpinStat(l.Instance.TotalFreeSpins-1),this.HUDHandler.cScript.levelButtonsInteraction(!1)):(l.Instance.Totalluxe=l.Instance.Totalluxe-e,this.HUDHandler.cScript.updateCashStat(l.Instance.Totalluxe)),!0)},a.cancelBet=function(){l.Instance.Totalluxe=l.Instance.Totalluxe+l.Instance.BetValue,this.HUDHandler.cScript.updateCashStat(l.Instance.Totalluxe),l.Instance.IsFreeSpinSelected&&(this.HUDHandler.cScript.updateFreeSpinStat(l.Instance.TotalFreeSpins+1),this.HUDHandler.cScript.levelButtonsInteraction(!1))},n}(o))||I);n._RF.pop()}}}));

System.register("chunks:///_virtual/GlowAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var e,t,o,l,i,r,a,u,c,p;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,l=n.assertThisInitialized},function(n){i=n.cclegacy,r=n._decorator,a=n.Node,u=n.tween,c=n.Animation,p=n.Component}],execute:function(){var g,w,f,s,y,m,b,d,h,v,z,A,C,G,P;i._RF.push({},"0f87daZP4FMgax+VPKGvIAW","GlowAnimation",void 0);var _=r.ccclass,D=r.property;n("GlowAnimation",(g=_("GlowAnimation"),w=D(a),f=D(a),s=D(a),y=D(a),m=D(a),b=D(a),g((v=e((h=function(n){function e(){for(var e,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e=n.call.apply(n,[this].concat(i))||this,o(e,"glow1",v,l(e)),o(e,"glow2",z,l(e)),o(e,"glow3",A,l(e)),o(e,"glow4",C,l(e)),o(e,"glow5",G,l(e)),o(e,"glow6",P,l(e)),e}t(e,n);var i=e.prototype;return i.start=function(){},i.enterglowsAnimation=function(){var n=this;u(this.node).call((function(){n.glow1.getComponent(c).play()})).delay(.05).call((function(){n.glow2.getComponent(c).play()})).delay(.05).call((function(){n.glow3.getComponent(c).play()})).delay(.05).call((function(){n.glow4.getComponent(c).play()})).delay(.05).call((function(){n.glow5.getComponent(c).play()})).delay(.05).call((function(){n.glow6.getComponent(c).play()})).start()},e}(p)).prototype,"glow1",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(h.prototype,"glow2",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(h.prototype,"glow3",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(h.prototype,"glow4",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(h.prototype,"glow5",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(h.prototype,"glow6",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=h))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/HUD.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Costant.ts","./GameData.ts","./Utility.ts","./Asset.ts","./ResourceUtils.ts"],(function(e){"use strict";var t,n,i,a,s,r,o,l,p,c,u,h,g,m,f,I,S,v,F,d,b,y,C,B,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,o=e.Label,l=e.Button,p=e.Node,c=e.SpriteFrame,u=e.Sprite,h=e.ToggleComponent,g=e.Animation,m=e.tween,f=e.Component},function(e){I=e.LOG_VISIBILITY,S=e.BUTTON_NAME},function(e){v=e.GameData},function(e){F=e.consoleMyLog,d=e.MyComponent,b=e.dateDifference,y=e.decimalPresicion,C=e.numberWithCommas},function(e){B=e.Asset},function(e){N=e.ResourceUtils}],execute:function(){var T,D,E,L,w,V,G,W,_,M,U,x,A,O,P,z,k,R,H,K,Y,Z,j,X,q,J,Q,$,ee,te,ne,ie,ae,se,re;s._RF.push({},"0965cuhXtdODIfGhBupepDh","HUD",void 0);var oe,le=r.ccclass,pe=r.property;!function(e){e[e.INCREMENT=0]="INCREMENT",e[e.DECREMENT=1]="DECREMENT",e[e.INITIALIZE=2]="INITIALIZE"}(oe||(oe={}));e("HUD",(T=le("HUD"),D=pe(o),E=pe(o),L=pe(l),w=pe(l),V=pe(l),G=pe(o),W=pe(o),_=pe(o),M=pe(o),U=pe(o),x=pe(p),A=pe(c),O=pe(c),P=pe(c),z=pe(p),k=pe(p),T((K=t((H=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))||this).level=1,t.maxLevel=v.Instance.MaxLevel,t.minLevel=1,t.cash=v.Instance.Totalluxe,t.totalFreeSpins=v.Instance.TotalFreeSpins,t._delegateGM=void 0,i(t,"betPercent",K,a(t)),i(t,"levelValue",Y,a(t)),i(t,"levelValueDec",Z,a(t)),i(t,"levelValueInc",j,a(t)),i(t,"SpinButton",X,a(t)),i(t,"statFreeSpin",q,a(t)),i(t,"statCash",J,a(t)),i(t,"statBet",Q,a(t)),i(t,"statWin",$,a(t)),i(t,"freeSpinExpiryTime",ee,a(t)),i(t,"stopwatch",te,a(t)),i(t,"stopFrame",ne,a(t)),i(t,"spinFrame",ie,a(t)),i(t,"freeSpinButtonSFrame",ae,a(t)),i(t,"volumeNode",se,a(t)),i(t,"greyBG",re,a(t)),t.canSpin=!0,t.previousDate=null,t.volume=void 0,t.isGreyVisible=!0,t}n(t,e);var s=t.prototype;return s.onLoad=function(){F(this.name,"HUD CAllED",I.INFO),this.changeTheme(),this.changeText(),v.Instance.TotalFreeSpins>0?this.updateLevel(v.Instance.FreeSpinsLevel):this.updateLevel(1)},s.start=function(){this.initPrefabs(),this.changeGreyVisibility(),this.setLevel(oe.INITIALIZE),this.updateWinStat(0),this.updateBetStat(this.level),this.updateCashStat(this.cash),this.updateFreeSpinStat(this.totalFreeSpins)},s.update=function(){this.stopwatch.parent.parent.active&&this.updateFreeSpinExpiryTime()},s.changeTheme=function(){var e=B.getInstance().getUIFileWithName("Bet_button.png"),t=B.getInstance().getUIFileWithName("Arrow_left.png"),n=B.getInstance().getUIFileWithName("Arrow_right.png"),i=B.getInstance().getUIFileWithName("Slider_btn.png"),a=B.getInstance().getUIFileWithName("bottomBar.png"),s=B.getInstance().getUIFileWithName("stopwatch.png"),r=B.getInstance().getUIFileWithName("remote_icon_empty.png"),o=B.getInstance().getUIFileWithName("remote_icon_filled.png"),l=B.getInstance().getUIFileWithName("FreeSpinInfoActive.png"),p=B.getInstance().getUIFileWithName("FreeSpinInfoInactive.png"),c=B.getInstance().getUIFileWithName("volumeIcon.png");this.changeSpinButtonAssets(v.Instance.GameLanguage),e&&(this.betPercent.node.getParent().getComponent(u).spriteFrame=e),i&&(this.levelValueDec.node.getParent().getComponent(u).spriteFrame=i),t&&(this.levelValueDec.node.getComponent(u).spriteFrame=t),n&&(this.levelValueInc.node.getComponent(u).spriteFrame=n),a&&(this.statBet.node.getParent().getComponent(u).spriteFrame=a),l&&(this.statFreeSpin.node.parent.getComponent(u).spriteFrame=l),p&&(this.statFreeSpin.node.parent.getComponent(h).checkMark.spriteFrame=p),r&&(this.statFreeSpin.node.parent.getChildByName("ToggleBox").getComponent(u).spriteFrame=r),o&&(this.statFreeSpin.node.parent.getChildByName("ToggleBox").getComponent(h).checkMark.spriteFrame=o),s&&(this.stopwatch.getComponent(u).spriteFrame=s),c&&(this.volumeNode.getComponent(u).spriteFrame=c)},s.changeText=function(){this.betPercent.node.parent.getChildByName("Title").getComponent(o).string=B.getInstance().getWOFGameTextByKey("Bet"),this.levelValueDec.node.parent.getChildByName("Title").getComponent(o).string=B.getInstance().getWOFGameTextByKey("Level"),this.statFreeSpin.node.parent.getChildByName("FreeSpinsLabel").getComponent(o).string=B.getInstance().getWOFGameTextByKey("FreeSpin"),this.stopwatch.parent.parent.getComponent(o).string=B.getInstance().getWOFGameTextByKey("FreeSpin"),this.updateWinStat(0),this.updateBetStat(this.level),this.updateCashStat(this.cash)},s.changeSpinButtonAssets=function(e){var t=B.getInstance().getUIFileWithName(e+"_SPIN.png"),n=B.getInstance().getUIFileWithName(e+"_STOP.png"),i=B.getInstance().getUIFileWithName(e+"_FREE_SPIN.png");t&&(this.SpinButton.getComponent(u).spriteFrame=t,this.spinFrame=t),n&&(this.stopFrame=n),i&&(this.freeSpinButtonSFrame=i)},s.initPrefabs=function(){this.volume=new d(N.getInstance().getPrefab("Volume"),"Volume",this.volumeNode)},s.setDelegate=function(e){this._delegateGM=e},s.changeGreyVisibility=function(){this.volume.cScript.isVisible?this.greyBG.active=!0:this.greyBG.active=!1},s.buttonClick=function(e,t){switch(e.currentTarget.name){case S.SPIN:this.canSpin?(this.canSpin=!1,F(this.name,this.stopFrame,I.INFO),this.SpinButton.getComponent(u).spriteFrame=this.stopFrame,this.levelButtonsInteraction(!1),this._delegateGM.spin()):(this.SpinButton.getComponent(l).interactable=!1,this._delegateGM.stop());break;case S.DEC_LEVEL_VALUE:this.setLevel(oe.DECREMENT);break;case S.INC_LEVEL_VALUE:this.setLevel(oe.INCREMENT);break;case S.SOUND:this.volume.cScript.changeVisibility();break;case S.GREYBG:this.volume.cScript.setInactive()}this.changeGreyVisibility()},s.toggleCallBack=function(e){switch(e.node.name){case S.FREE_SPIN_TOGGLE:e.node.getChildByName("ToggleBox").getComponent(h).isChecked=e.isChecked,e.isChecked?this.SpinButton.getComponent(u).spriteFrame=this.freeSpinButtonSFrame:this.SpinButton.getComponent(u).spriteFrame=this.spinFrame,v.Instance.IsFreeSpinSelected=e.isChecked,this.updateLevel(1),this.levelButtonsInteraction(!e.isChecked)}},s.canSpinWheel=function(e){this.canSpin=e,this.SpinButton.getComponent(l).interactable=!0,v.Instance.IsFreeSpinSelected?this.SpinButton.getComponent(u).spriteFrame=this.freeSpinButtonSFrame:(this.levelButtonsInteraction(e),this.SpinButton.getComponent(u).spriteFrame=this.spinFrame)},s.playStopwatchAnimation=function(){this.stopwatch.getComponent(g).play()},s.updateFreeSpinExpiryTime=function(){var e=new Date,t=new Date(e.getTime()+6e4*e.getTimezoneOffset()),n=new Date(t.getUTCFullYear(),t.getUTCMonth()+1,1);if(!this.previousDate||this.previousDate.getMinutes()<t.getMinutes()){this.previousDate=t;var i=b(n,t);if(i.diffInDays<=0&&i.diffInHours<=0&&i.diffInMinutes<=0)return v.Instance.TotalFreeSpins=0,this.totalFreeSpins=0,void this.updateFreeSpinStat(0);i.diffInDays<=0&&this.playStopwatchAnimation(),this.freeSpinExpiryTime.string=i.diffInDays+"d "+i.diffInHours+"h "+i.diffInMinutes+"m "}},s.levelButtonsInteraction=function(e){e?this.changeIncDecOfLevel():(this.levelValueInc.interactable=e,this.levelValueInc.getComponent(u).grayscale=!e,this.levelValueDec.interactable=e,this.levelValueDec.getComponent(u).grayscale=!e)},s.timeOver=function(){this.canSpin?(this.canSpin=!1,F(this.name,this.stopFrame,I.INFO),this.SpinButton.getComponent(u).spriteFrame=this.stopFrame,this._delegateGM.spin()):(this.SpinButton.getComponent(l).interactable=!1,this._delegateGM.stop())},s.setLevel=function(e){var t=1;switch(e){case oe.INCREMENT:this.level<this.maxLevel&&(t=this.level+1);break;case oe.DECREMENT:this.level>this.minLevel&&(t=this.level-1)}this.updateLevel(t)},s.updateLevel=function(e){this.level=e||1,this.levelValue.string=this.level.toString(),this.changeIncDecOfLevel(),this.updateBetPercent(this.level),this.updateBetStat(this.level)},s.changeIncDecOfLevel=function(){this.level==this.minLevel?(this.levelValueDec.interactable=!1,this.levelValueDec.getComponent(u).grayscale=!0):(this.levelValueDec.interactable=!0,this.levelValueDec.getComponent(u).grayscale=!1),this.level==this.maxLevel?(this.levelValueInc.interactable=!1,this.levelValueInc.getComponent(u).grayscale=!0):(this.levelValueInc.interactable=!0,this.levelValueInc.getComponent(u).grayscale=!1)},s.updateBetPercent=function(e){v.Instance.BetValue=v.Instance.getLevelBet(e),this.betPercent.string=v.Instance.BetValue.toString()},s.updateBetStat=function(e){var t=y(v.Instance.getLevelBet(e),2);this.statBet.string=B.getInstance().getWOFGameTextByKey("Bet")+" : "+t},s.updateWinStat=function(e){this.statWin.string=B.getInstance().getWOFGameTextByKey("Win")+" : "+C(y(e,2))},s.updateCashStat=function(e){this.statCash.string=B.getInstance().getWOFGameTextByKey("Cash")+" : "+C(y(e,2))},s.updateFreeSpinStat=function(e){e>0?(this.stopwatch.parent.parent.active=!0,this.statFreeSpin.node.getComponent(g).play(),this.statFreeSpin.node.parent.getComponent(h).interactable=!0,this.statFreeSpin.node.parent.getChildByName("ToggleBox").active=!0):(this.stopwatch.parent.parent.active=!1,this.statFreeSpin.node.getComponent(g).stop(),this.statFreeSpin.node.parent.getComponent(h).interactable=!1,this.statFreeSpin.node.parent.getChildByName("ToggleBox").active=!1,this.levelButtonsInteraction(!0)),this.freeSpinStatAction(e)},s.freeSpinStatAction=function(e){var t=this,n=1,i=this.getTimeForAnimation(Math.abs(e));e<parseInt(this.statFreeSpin.string)&&(n=-1),m(this.statFreeSpin.node).repeat(Math.abs(e-parseInt(this.statFreeSpin.string)),m(this.statFreeSpin.node).delay(i).call((function(){t.statFreeSpin.string=(parseInt(t.statFreeSpin.string)+n).toString()}))).call((function(){t.statFreeSpin.string=e})).start()},s.getTimeForAnimation=function(e){return 3/e},t}(f)).prototype,"betPercent",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(H.prototype,"levelValue",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(H.prototype,"levelValueDec",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(H.prototype,"levelValueInc",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(H.prototype,"SpinButton",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(H.prototype,"statFreeSpin",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(H.prototype,"statCash",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(H.prototype,"statBet",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(H.prototype,"statWin",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(H.prototype,"freeSpinExpiryTime",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(H.prototype,"stopwatch",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(H.prototype,"stopFrame",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(H.prototype,"spinFrame",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(H.prototype,"freeSpinButtonSFrame",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(H.prototype,"volumeNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(H.prototype,"greyBG",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=H))||R));s._RF.pop()}}}));

System.register("chunks:///_virtual/Loading.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Costant.ts","./GameData.ts","./Utility.ts","./Asset.ts","./NetworkConfig.ts","./NetworkManager.ts","./ResourceUtils.ts","./SocketManager.ts"],(function(e){"use strict";var t,a,n,s,r,i,o,c,g,l,u,d,h,p,m,f,I,S,B,L,U,P,b,T,O,y,E,v,C,G,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized,r=e.asyncToGenerator},function(e){i=e.cclegacy,o=e._decorator,c=e.Sprite,g=e.Node,l=e.ProgressBar,u=e.Label,d=e.Prefab,h=e.JsonAsset,p=e.Button,m=e.Animation,f=e.tween,I=e.Component},function(e){S=e.LOG_VISIBILITY,B=e.SOCKET_EVENT_KEYS},function(e){L=e.GameData},function(e){U=e.consoleMyLog,P=e.capitaliseString,b=e.MyComponent},function(e){T=e.Asset},function(e){O=e.SERVER,y=e.SOCKET_EVENTS,E=e.API_END_POINTS,v=e.REQUEST_TYPE},function(e){C=e.NetworkManager},function(e){G=e.ResourceUtils},function(e){N=e.SocketManager}],execute:function(){var k,w,F,R,D,M,W,A,K,x,V,_,z,j,J,Y,H,Q,Z;i._RF.push({},"e379e1KcM5Aha6nVNMIMukd","Loading",void 0);var q=o.ccclass,X=o.property;e("Loading",(k=q("Loading"),w=X(c),F=X(g),R=X(g),D=X(l),M=X(u),W=X(d),A=X(h),K=X(h),k((_=t((V=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,n(t,"ageVerification",_,s(t)),n(t,"gameBG",z,s(t)),n(t,"ageVerificationBtns",j,s(t)),n(t,"loaderProgressBar",J,s(t)),n(t,"loaderProgressPercentage",Y,s(t)),n(t,"popUpPrefab",H,s(t)),n(t,"assetsData",Q,s(t)),n(t,"gameTextData",Z,s(t)),t.popUp=null,t.resourcesLoaded=!1,t.wheelOfFortune=void 0,t._delegateGameManager=null,t.reloadScene=function(){t.ageVerification&&(t.ageVerification.node.active=!0),t.wheelOfFortune&&t.wheelOfFortune.cNode.removeFromParent()},t}a(t,e);var i=t.prototype;return i.start=function(){this.loadPrefabs(),this.ageVerificationBtns.active=!1,C.getInstance().init(O),this.schedule(this.checkLoadingCanBeStarted,.01),L.Instance.GameTextData=this.gameTextData,this.changeText(),this.fetchParams(),this.setUpSockets()},i.fetchParams=function(){var e=new URL(window.location.toString()).searchParams,t=e.get("token"),a=e.get("gameId");t&&(localStorage.setItem("token",t),U(this.name,"token"+t,S.NETWORK)),a&&(localStorage.setItem("gameId",a),U(this.name,"gameId"+a,S.NETWORK))},i.onLoad=function(){},i.loadGameUIAssets=function(e){T.getInstance().LoadGameUI_SFrames(e+"/",this.assetsData.json.resourceList),T.getInstance().LoadLanguageBasedGameUI_SFrames(e+"/",this.assetsData.json.languageBasedResourceList,L.Instance.GameLanguage)},i.changeTheme=function(){var e=T.getInstance().getUIFileWithName("BG");e&&(this.ageVerification.spriteFrame=e)},i.changeText=function(){this.ageVerificationBtns.getChildByName("Accept").getChildByName("Label").getComponent(u).string=P(T.getInstance().getWOFGameTextByKey("LaunchGame")),this.ageVerificationBtns.getChildByName("Decline").getChildByName("Label").getComponent(u).string=P(T.getInstance().getWOFGameTextByKey("TakeMeBack"))},i.startLoading=function(){1==T.getInstance().getLoadPercentage()?(this.unschedule(this.startLoading),U(this.name,"Check 3",S.INFO)):U(this.name,"Check 4",S.INFO)},i.checkLoadingCanBeStarted=function(){U(this.name,"Check 1",S.INFO),T.getInstance().canStartLoading()&&this.resourcesLoaded&&(L.Instance.UserConnected=!0,this.unschedule(this.checkLoadingCanBeStarted))},i.loadPrefabs=function(){var e=this;G.getInstance().loadPrefabs("Prefabs").then((function(){G.getInstance().musicFiles(),U(e.name,"Prefabs Loaded",S.INFO)})).then((function(){e.resourcesLoaded=!0,e.ageVerificationBtns.getChildByName("Accept").getComponent(p).interactable=!0})).catch((function(t){e.loadPrefabs()}))},i.updateProgressBar=function(){var e=T.getInstance().getLoadPercentage(),t=this.loaderProgressPercentage.node.getParent();this.loaderProgressBar.progress<e?(this.loaderProgressBar.progress=e,this.loaderProgressPercentage.string=Math.floor(100*e)+"%"):this.loaderProgressBar.progress>=1?(this.unschedule(this.updateProgressBar),this.ageVerificationBtns.active=!0,t.active=!1):T.getInstance().checkIfLoadingError()&&(U("ERROR OF Assets LOADER",e,S.INFO),this.showPopUp("Loading Error, Please Try Again!",this.reloadScene),this.unschedule(this.updateProgressBar))},i.accept=function(){L.Instance.UserBlocked?this.showPopUp("User Blocked!",this.reloadScene):L.Instance.UserConnected?(this.ageVerificationBtns.getChildByName("Accept").getComponent(p).interactable=!1,this.ageVerificationBtns.getChildByName("Decline").getComponent(p).interactable=!1,this.ageVerification.node.getComponent(m).play("fadeExit"),this.wheelOfFortune=new b(G.getInstance().getPrefab("WheelOfFortune"),"GameManager",this.gameBG),this.wheelOfFortune.cScript.setLoadingDelegate(this),this._delegateGameManager=this.wheelOfFortune.cScript):this.showPopUp("Internet Connection error!",this.reloadScene)},i.declineBtnCB=function(e,t){window.parent.postMessage("takeMeBack","*"),window.parent&&U(this.name,"TAKE ME BACK MSG POSTED::::",S.NETWORK)},i.UserBlocked=function(){1==L.Instance.UserBlocked&&(this.reloadScene(),this.showPopUp("User Blocked!",(function(){})))},i.showPopUp=function(e,t){this.popUp&&this.popUp.cNode&&this.popUp.cNode.active||(this.popUp=new b(this.popUpPrefab,"PopUp",this.node),this.popUp.cNode.active=!0,this.popUp.cScript.setMessage(e),this.popUp.cScript.playAnimation(),this.popUp.cScript.setCallbackFromParent(t))},i.setUpSockets=function(){var e=this;N.getInstance().init(O,"authorization="+localStorage.token),N.getInstance().subscribeEvent(y.Connect,(function(t){return e.onSocketConnect(t)})),N.getInstance().subscribeEvent(B.GAME_DATA,(function(t){return e.GameData(t)})),N.getInstance().subscribeEvent(B.USER_STATUS,(function(t){return e.UserStatus(t)}))},i.GameData=function(e){U(this.name,"GameData "+e,S.NETWORK),this.getWOFData(localStorage.gameId,this.successCBForSelectiveWOFGameData)},i.UserStatus=function(e){U(this.name+"UserStatus "+(!1===e.isActive)+(!0===e.isUserUpdated),e,S.NETWORK),!1===e.isActive&&0==L.Instance.UserBlocked?(L.Instance.UserBlocked=!0,this.UserBlocked(),window.parent.postMessage("userBlocked","*"),window.parent&&U(this.name,"USER BLOCKED MSG POSTED::::",S.NETWORK)):!0===e.isActive?L.Instance.UserBlocked=!1:!0===e.isUserUpdated&&this.getWOFData(localStorage.gameId,this.successCBForSelectiveWOFGameData)},i.onSocketConnect=function(e){U(this.name,"onSocketConnect",S.NETWORK),this.getWOFData(localStorage.gameId,this.successCBForInitializeWOFGameData)},i.showAssetsLoading=function(){var e=this,t=T.getInstance().getLoadPercentage();if(t<1){var a=this.loaderProgressPercentage.node.getParent();f(a).repeat(10,f().delay(.05).call((function(){e.loaderProgressBar.progress+=t/10,e.loaderProgressPercentage.string=Math.floor(100*e.loaderProgressBar.progress)+"%"}))).call((function(){e.schedule(e.updateProgressBar,.01)})).start()}else this.schedule(this.updateProgressBar,.01)},i.successCBForInitializeWOFGameData=function(e){function t(){return(t=r(regeneratorRuntime.mark((function t(){var a,n,s=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(){return(n=r(regeneratorRuntime.mark((function t(){var a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return L.Instance.GameLanguage=e.data.languageCode?e.data.languageCode:"en",t.next=3,T.getInstance().LoadGameTextData(e.data.languageUrl?e.data.languageUrl:"").then((function(){a._delegateGameManager?a._delegateGameManager.updateGameLanguage():a.changeText()})).catch((function(){U(a.name,"Wrong URL for json!",S.NETWORK)}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)},a=function(){return n.apply(this,arguments)},t.next=4,T.getInstance().LoadBG(e.data.game.gameThemeBaseUrl+"/WOFBack.jpg").then((function(){s.changeTheme()})).catch((function(){U(s.name,"BG not found!",S.NETWORK)}));case 4:a.call(this),this.loadGameUIAssets(e.data.game.gameThemeBaseUrl),e.data.game.betLevel.forEach((function(e){L.Instance.addLevelBet(e.level.toString(),e.bet)})),L.Instance.MaxLevel=e.data.game.betLevel.length,L.Instance.Totalluxe=e.data.userTokens,L.Instance.MajorPrize=e.data.game.isMajor.symbolValue,L.Instance.MegaPrize=e.data.game.isMega.symbolValue,U(this.name+"freeSpinRemaining:",e.data.freeSpins,S.NETWORK),e.data.freeSpins>0&&(L.Instance.TotalFreeSpins=e.data.freeSpins,L.Instance.FreeSpinsLevel=L.Instance.MaxLevel>=e.data.freeSpinsLevel?e.data.freeSpinsLevel:1),T.getInstance().LoadWOFSymbols(e.data.symbols),T.getInstance().updateWOFSymbolList(e.data.game.gamePayTable),T.getInstance().LoadGameAudios(e.data.game.musics),T.getInstance().LoadPaylineAnimations(e.data.game.paylineAnimations);case 17:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}this.showAssetsLoading(),e=JSON.parse(e),U(this.name,e,S.NETWORK),U(this.name,e.data.game.betLevel,S.NETWORK),function(){return t.apply(this,arguments)}.call(this)},i.successCBForSelectiveWOFGameData=function(e){function t(){return(t=r(regeneratorRuntime.mark((function t(){var a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return L.Instance.GameLanguage=e.data.languageCode?e.data.languageCode:"en",t.next=3,T.getInstance().LoadGameTextData(e.data.languageUrl?e.data.languageUrl:"").then((function(){a._delegateGameManager?a._delegateGameManager.updateGameLanguage():a.changeText()})).catch((function(){U(a.name,"Wrong URL for json!",S.NETWORK)}));case 3:return t.next=5,T.getInstance().LoadLanguageBasedGameUI_SFrames(e.data.game.gameThemeBaseUrl+"/",this.assetsData.json.languageBasedResourceList,L.Instance.GameLanguage);case 5:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}e=JSON.parse(e),U(this.name+"on SUCCESS data Selective change",e,S.NETWORK),function(){return t.apply(this,arguments)}.call(this)},i.getWOFData=function(e,t){var a=this;C.getInstance().sendGetWithQueryString(E.GAME,v.GET,{gameId:e},(function(e){t&&t.call(a,e)}),(function(e){U(a.name,"on faiure data",S.NETWORK),e=JSON.parse(e),0=="UNAUTHORIZED".localeCompare(e.type)&&(U(a.name,"Unauthorized access!",S.NETWORK),L.Instance.UserBlocked=!0),a.unschedule(a.checkLoadingCanBeStarted)}),!0)},t}(I)).prototype,"ageVerification",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(V.prototype,"gameBG",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(V.prototype,"ageVerificationBtns",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(V.prototype,"loaderProgressBar",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(V.prototype,"loaderProgressPercentage",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(V.prototype,"popUpPrefab",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(V.prototype,"assetsData",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(V.prototype,"gameTextData",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=V))||x));i._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Costant.ts","./GameData.ts","./Utility.ts","./Asset.ts","./ButtonName.ts","./NetworkConfig.ts","./NetworkManager.ts","./ResourceUtils.ts","./SoundManager.ts","./GameManager.ts","./GlowAnimation.ts","./HUD.ts","./SocketManager.ts","./Loading.ts","./PopUp.ts","./Volume.ts","./WheelOfFortune.ts","./WinAnimation.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/NetworkConfig.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"a1d97P0N49OwY8958lQEq/r","NetworkConfig",void 0);t("API_END_POINTS",{GAME:"/game/WheelOfFortune",SPIN_WHEEL:"/game/wheelOfFortuneResultSpinner"});var n=t("DEPLOYMENT_MODE",{LOCAL:0,DEVELOPMENT:1,STAGING:2,PRODUCTION:3});t("SERVER",n.DEVELOPMENT),t("REQUEST_TYPE",{GET:"get",POST:"post",PUT:"put"}),t("API_AUTH_KEY",{LOCAL:"test",DEVELOPMENT:"test",STAGING:"7HLsBfaH6b2YR7nw",PRODUCTION:"7HLsBfaH6b2YR7nw"}),t("BASE_ADDRESS",{LOCAL:"https://api.luxe-lotteries.staging.chicmic.co.in/v1",DEVELOPMENT:"https://api-dev.theluxelottery.com/v1",STAGING:"https://api-staging.theluxelottery.com/v1",PRODUCTION:"https://api.theluxelottery.com/v1"}),t("SOKCET_URLS",{LOCAL:"https://api.luxe-lotteries-socket.staging.chicmic.co.in/",DEVELOPMENT:"https://socket-dev.theluxelottery.com/",STAGING:"https://socket-staging.theluxelottery.com/",PRODUCTION:"https://socket.theluxelottery.com/"}),t("SOCKET_EVENTS",{Connect:"connect",Reconnect:"reconnect",Reconnecting:"reconnecting",Disconnect:"disconnect",Error:"error",Message:"message",EventTest:"Test",SingleEvent:"SingleEvent"});e._RF.pop()}}}));

System.register("chunks:///_virtual/NetworkManager.ts",["cc","./NetworkConfig.ts"],(function(e){"use strict";var t,s,n,a;return{setters:[function(e){t=e.cclegacy},function(e){s=e.DEPLOYMENT_MODE,n=e.BASE_ADDRESS,a=e.API_AUTH_KEY}],execute:function(){t._RF.push({},"7878bI8v2hBv4rFPsh7lzZS","NetworkManager",void 0),e("NetworkManager",function(){function e(){this.baseUrl="",this.apiAuthKey=""}e.getInstance=function(){return e._instance||(e._instance=new e),e._instance};var t=e.prototype;return t.init=function(e){switch(e){case s.LOCAL:this.baseUrl=n.LOCAL,this.apiAuthKey=a.LOCAL;break;case s.DEVELOPMENT:this.baseUrl=n.DEVELOPMENT,this.apiAuthKey=a.DEVELOPMENT;break;case s.PRODUCTION:this.baseUrl=n.PRODUCTION,this.apiAuthKey=a.PRODUCTION;break;case s.STAGING:this.baseUrl=n.STAGING,this.apiAuthKey=a.STAGING}},t.sendRequest=function(e,t,s,n,a,i){void 0===i&&(i=!1);var r=new XMLHttpRequest,o=this.baseUrl+e;r.open(t,o),r.setRequestHeader("Content-Type","application/json"),i&&r.setRequestHeader("Authorization",localStorage.token),r.onreadystatechange=function(){if(4===r.readyState&&r.status>=200&&r.status<300){var e=r.responseText;n(e)}else if(4===r.readyState&&r.status>=400&&r.status<500){var t=r.responseText;a(t)}},r.send(JSON.stringify(s))},t.sendGetWithQueryString=function(e,t,s,n,a,i){void 0===i&&(i=!1);var r=new XMLHttpRequest,o=this.getInitialBaseURL()+e,u=this.objectToQueryString(s);r.open(t,o+"?"+u,!0),r.setRequestHeader("Content-Type","application/json"),i&&r.setRequestHeader("Authorization",localStorage.token),r.setRequestHeader("X-API-KEY",this.apiAuthKey),r.onreadystatechange=function(){if(4===r.readyState&&r.status>=200&&r.status<300){var e=r.responseText;n(e)}else if(4===r.readyState&&r.status>=400&&r.status<=500){var t=r.responseText;a(t)}},r.send(null)},t.objectToQueryString=function(e){var t=[];for(var s in e)e.hasOwnProperty(s)&&t.push(encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t.join("&")},t.getInitialBaseURL=function(){return this.baseUrl},e}())._instance=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/PopUp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,o,r,a,i,c,l,p,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,i=t._decorator,c=t.Label,l=t.Node,p=t.Animation,s=t.Component}],execute:function(){var u,f,m,b,h,g,y;a._RF.push({},"ab373GMvTRHZa+j4XzLbilR","PopUp",void 0);var P=i.ccclass,v=i.property;t("PopUp",(u=P("PopUp"),f=v(c),m=v(l),u((g=e((h=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a))||this,o(e,"message",g,r(e)),o(e,"popUpBox",y,r(e)),e.callbackFromParent=function(){},e}n(e,t);var a=e.prototype;return a.start=function(){},a.setCallbackFromParent=function(t){this.callbackFromParent=t},a.setMessage=function(t){this.message.string=t},a.okButtonCallback=function(t,e){this.node.removeFromParent(),this.callbackFromParent&&this.callbackFromParent()},a.playAnimation=function(){this.popUpBox.getComponent(p).play()},a.update=function(t){},e}(s)).prototype,"message",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(h.prototype,"popUpBox",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=h))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Costant.ts","./Utility.ts"],(function(e){"use strict";var n,i,t,s,r,o,u,c;return{setters:[function(e){n=e.inheritsLoose},function(e){i=e.cclegacy,t=e._decorator,s=e.resources,r=e.error,o=e.Component},function(e){u=e.LOG_VISIBILITY},function(e){c=e.consoleMyLog}],execute:function(){var a,f;i._RF.push({},"9d9d0x6j35EBLTe1jJiRmLh","ResourceUtils",void 0);var l=t.ccclass;e("ResourceUtils",l("ResourceUtils")(((f=function(e){function i(){for(var n,i=arguments.length,t=new Array(i),s=0;s<i;s++)t[s]=arguments[s];return(n=e.call.apply(e,[this].concat(t))||this)._musicFiles=[],n._gameResource={},n}n(i,e);var t=i.prototype;return t.start=function(){},i.getInstance=function(){return i._instance||(i._instance=new i),i._instance},t.loadPrefabs=function(e){var n=this;return new Promise((function(i,t){n._gameResource[e]?i(n._gameResource[e]):s.loadDir(e,(function(s,r){s?(c(n.name,s,u.INFO),t(s)):(c(n.name,r,u.INFO),n._gameResource[e]=r),i(n._gameResource[e])}))}))},t.loadVideo=function(e){var n=this;return new Promise((function(i,t){n._gameResource[e]?i(n._gameResource[e]):s.loadDir(e,(function(s,r){s?(c(n.name,s,u.INFO),t(s)):(c(n.name,r,u.INFO),n._gameResource[e]=r),i(n._gameResource[e])}))}))},t.getVideo=function(e,n){if(this._gameResource[e])return this._gameResource[e].find((function(e){return e.name==n}))},t.getPrefab=function(e){if(this._gameResource.Prefabs)return this._gameResource.Prefabs.find((function(n){return n.data.name==e}))},t.musicFiles=function(){var e=this;return new Promise((function(n,i){e._musicFiles.length>0?n(e._musicFiles):s.loadDir("Music",(function(t,s){t?(i(t),r("load audio files :"+t)):e._musicFiles=s,n(e._musicFiles)}))}))},t.getMusicFile=function(e){if(this._musicFiles)return this._musicFiles.find((function(n){return n.name==e}))||null},i}(o))._instance=void 0,a=f))||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/SocketManager.ts",["cc","./Costant.ts","./NetworkConfig.ts","./socket.io.js","./socket.io.mjs_cjs=&original=.js"],(function(t){"use strict";var e,o,c,n,s,i,r;return{setters:[function(t){e=t.cclegacy,o=t._decorator},function(t){c=t.LOG_VISIBILITY},function(t){n=t.DEPLOYMENT_MODE,s=t.SOKCET_URLS,i=t.SOCKET_EVENTS},function(t){r=t.default},null],execute:function(){var u,k;e._RF.push({},"0e790+Wld5LFaFFyagga/96","SocketManager",void 0);var l=o.ccclass;o.property,t("SocketManager",l("SocketManager")(((k=function(){function t(){this.socket=null,this.socketUrl="",this.socketConfig={}}t.getInstance=function(){return t._instance||(t._instance=new t),t._instance};var e=t.prototype;return e.init=function(t,e){switch(t){case n.LOCAL:this.socketUrl=s.LOCAL+"?"+e;break;case n.DEVELOPMENT:this.socketUrl=s.DEVELOPMENT+"?"+e;break;case n.PRODUCTION:this.socketUrl=s.PRODUCTION+"?"+e;break;case n.STAGING:this.socketUrl=s.STAGING+"?"+e}this.socket||this.connect()},e.connect=function(){this.socket=r(this.socketUrl,this.socketConfig),this.socket.on(i.Connect,(function(){console.log("******** socket connected sucessfully ********")})),this.socket.on(i.Error,(function(t){console.log("******** socket connection error ******** :"+t.toString())})),this.socket.on(i.Disconnect,(function(){console.log("******** socket disconnected sucessfully ********")})),this.socket.on(i.Reconnect,(function(){console.log("******** socket reconnected sucessfully ********")})),this.socket.on(i.Reconnecting,(function(t){console.log("******** socket Reconnecting successfully ******** :"+t.toString())})),this.socket.on(i.Message,(function(t){console.log("******** socket message received ******** :"+t.toString())}))},e.disconnect=function(){this.socket.disconnect(),this.socket=null},e.isSocketConnected=function(){return this.socket&&this.socket.connected},e.emitCutomEvent=function(t,e,o){this.isSocketConnected()&&this.socket.emit(t,e,o)},e.subscribeEvent=function(t,e){c.NETWORK&&console.log("subscrtiebe to event",t),this.socket.on(t,e)},e.closeSocket=function(){this.socket&&this.socket.close()},t}())._instance=void 0,u=k))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/SoundManager.ts",["cc"],(function(o){"use strict";var t,u;return{setters:[function(o){t=o.cclegacy,u=o.assert}],execute:function(){t._RF.push({},"20d79eHdcdKy72ZIJBKtlhN","SoundManager",void 0),o("SoundManager",function(){function o(){this._audioSource=null,this._SoundEffectAudioSource=null,this.volume=1}o.getInstance=function(){return o._instance||(o._instance=new o),o._instance};var t=o.prototype;return t.init=function(o){this._audioSource=o},t.initSoundEffectAS=function(o){this._SoundEffectAudioSource=o},t.playOneShotSoundEffect=function(o){o?this._audioSource.playOneShot(o,1):u(o,"Invalid audio clip format")},t.playSoundEffect=function(o){o?(this.stopSoundEffect(),this._SoundEffectAudioSource.clip=o,this._SoundEffectAudioSource.loop=!1,this._SoundEffectAudioSource.play()):u(o,"Invalid audio clip format")},t.stopSoundEffect=function(){this._SoundEffectAudioSource.stop()},t.setEffectVolume=function(){},t.playMusic=function(o){this._audioSource.loop=o,this._audioSource.playing||this._audioSource.play()},t.stopMusic=function(){this._audioSource.stop()},t.setMusicVolume=function(o){var t=this._audioSource;u(t,"AudioManager not inited!"),this.volume=o,t.volume=o,this._SoundEffectAudioSource.volume=o},o}())._instance=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/Utility.ts",["cc"],(function(t){"use strict";var n,e,o,i;return{setters:[function(t){n=t.cclegacy,e=t.tween,o=t.Vec3,i=t.instantiate}],execute:function(){t({capitaliseString:function(t){return t.toLowerCase().split(" ").map((function(t){if(!t)return t;var n=t.split("");return n[0]=n[0].toUpperCase(),n.join("")})).join(" ")},consoleMyLog:function(t,n,e){e&&console.log(t," : ",n)},dateDifference:function(t,n){var e=Math.abs(t.valueOf()-n.valueOf())/1e3,o=Math.floor(e/86400);e-=86400*o;var i=Math.floor(e/3600)%24;e-=3600*i;var c=Math.floor(e/60)%60+1;return e-=60*c,{diffInDays:o,diffInHours:i,diffInMinutes:c}},decimalPresicion:function(t,n){return(Math.round(100*t)/100).toFixed(n)},distBtw2Points:function(t,n){var e=t.x-n.x,o=t.y-n.y;return Math.sqrt(Math.pow(e,2)+Math.pow(o,2))},getHexColorCode:function(t){for(var n="",e=3;e<9;e++){var o=t.charAt(e);n+=o}return n},numberWithCommas:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},popCloseScale:function(t,n){e(t).to(n,{scale:new o(0,0,0)}).call((function(){t.active=!1})).to(0,{scale:new o(1,1,1)}).start()},popOpenScale:function(t,n){t.scale;e(t).call((function(){t.active=!0,t.scale=new o(0,0,0)})).to(n,{scale:new o(1,1,1)}).start()}}),n._RF.push({},"5e5adxHKPJKdrSR9QB+i8SA","Utility",void 0);t("MyComponent",function(){function t(t,n,e){void 0===t&&(t=null),void 0===n&&(n=null),void 0===e&&(e=null),this.cNode=void 0,this.cScript=void 0,t&&(this.cNode=i(t)),n&&this.cNode&&(this.cScript=this.cNode.getComponent(n)),e&&this.cNode&&e.addChild(this.cNode)}return t.prototype.setData=function(t,n){void 0===t&&(t=null),void 0===n&&(n=null),this.cNode=t,this.cScript=this.cNode.getComponent(n)},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/Volume.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Asset.ts","./SoundManager.ts"],(function(e){"use strict";var t,i,n,s,r,a,l,o,u,c,h,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Slider,o=e.SpriteFrame,u=e.Sprite,c=e.Component},function(e){h=e.Asset},function(e){g=e.SoundManager}],execute:function(){var m,p,d,b,f,v,y,F,I;r._RF.push({},"3b61bZ9EsVHBaeDuRaXSc+6","Volume",void 0);var V=a.ccclass,M=a.property;e("Volume",(m=V("Volume"),p=M(l),d=M(o),b=M(o),m((y=t((v=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"slider",y,s(t)),n(t,"unMute",F,s(t)),n(t,"mute",I,s(t)),t.isVisible=!0,t}i(t,e);var r=t.prototype;return r.onLoad=function(){this.changeTheme(),this.slider.node.on("slide",this.callback,this),this.changeVisibility(),this.callback(this.slider)},r.changeTheme=function(){var e=h.getInstance().getUIFileWithName("volume_slider_empty.png"),t=h.getInstance().getUIFileWithName("volume_slider_filler.png"),i=h.getInstance().getUIFileWithName("scroll_button.png"),n=h.getInstance().getUIFileWithName("volumeIcon.png"),s=h.getInstance().getUIFileWithName("volumeMute.png");e&&(this.node.getComponent(u).spriteFrame=e),t&&(this.node.getChildByName("InBg").getComponent(u).spriteFrame=t),i&&(this.slider.node.getChildByName("Handle").getComponent(u).spriteFrame=i),n&&(this.unMute=n),s&&(this.mute=s)},r.callback=function(e){var t=e.progress;g.getInstance().setMusicVolume(t),0==t?this.changeFrame(this.mute):this.changeFrame(this.unMute)},r.changeVisibility=function(){this.isVisible=!this.isVisible,this.node.active=this.isVisible},r.setInactive=function(){this.isVisible=!1,this.node.active=this.isVisible},r.changeFrame=function(e){this.node.getParent().getComponent(u).spriteFrame=e},t}(c)).prototype,"slider",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(v.prototype,"unMute",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(v.prototype,"mute",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=v))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/WheelOfFortune.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Costant.ts","./GameData.ts","./Utility.ts","./Asset.ts","./SoundManager.ts"],(function(e){"use strict";var t,i,n,s,a,l,o,h,r,u,c,g,p,d,m,w,y,f,W,I,A,C,b,F,R,O,G,v,T,V;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.Node,h=e.JsonAsset,r=e.Label,u=e.Prefab,c=e.Sprite,g=e.AudioSource,p=e.instantiate,d=e.macro,m=e.tween,w=e.UITransform,y=e.Vec3,f=e.Intersection2D,W=e.Animation,I=e.Component},function(e){A=e.MUSIC_TYPE,C=e.LOG_VISIBILITY},function(e){b=e.GameData},function(e){F=e.capitaliseString,R=e.numberWithCommas,O=e.decimalPresicion,G=e.consoleMyLog,v=e.MyComponent},function(e){T=e.Asset},function(e){V=e.SoundManager}],execute:function(){var B,M,k,S,E,L,N,_,D,z,x,U,j,K,J,P,Z,q,H,Y,$,Q,X,ee,te,ie,ne,se,ae;a._RF.push({},"de70dDeHmdMZ7wuHOgWiC7g","WheelOfFortune",void 0);var le,oe=l.ccclass,he=l.property;!function(e){e[e.NONE=0]="NONE",e[e.ARROW=1]="ARROW",e[e.REWARD_VALUE=2]="REWARD_VALUE"}(le||(le={}));e("WheelOfFortune",(B=oe("WheelOfFortune"),M=he(o),k=he(h),S=he(r),E=he(u),L=he(u),N=he(u),_=he(u),D=he(c),z=he(o),x=he(c),U=he(o),j=he(o),K=he(u),B((Z=t((P=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,n(t,"wheel",Z,s(t)),n(t,"wheelData",q,s(t)),n(t,"instruction",H,s(t)),n(t,"symbol",Y,s(t)),n(t,"arrow",$,s(t)),n(t,"glow",Q,s(t)),n(t,"glow2",X,s(t)),n(t,"stopper",ee,s(t)),n(t,"touchRestriction",te,s(t)),n(t,"Title",ie,s(t)),n(t,"MegaJackpot",ne,s(t)),n(t,"MajorJackpot",se,s(t)),n(t,"winAnimation",ae,s(t)),t.arrowSFrame=null,t.angleChangeValue=4,t.speedRate=.001,t.stopChange=t.angleChangeValue,t.angleValue=0,t.resultAngle=-1,t.timeLeft=7,t.itemFound=!1,t.interctDone=!1,t.atZeroAngle=!1,t.rotationAction=null,t.result=null,t.outputArray=[],t.wheels=[],t.glows=new Array,t.glows1=[],t.glows2=[],t.glows3=[],t.spinResult=[],t.currentWheelInit=-1,t.currentWheel=-1,t.opacity=void 0,t.fadeOutItem=void 0,t.fadeItem=void 0,t.rewardValue="",t.winPrize=0,t.repeatForeverAction=null,t._delegateGM=void 0,t.symbolCount=1,t.wheelRollingAudio=null,t.wheelGlowAudio=null,t.betterLuckAudio=null,t.musicId="",t.animationId="",t}i(t,e);var a=t.prototype;return a.start=function(){V.getInstance().initSoundEffectAS(this.Title.node.parent.getComponent(g)),this.wheels.push(this.wheel[0]),this.wheels.push(this.wheel[1]),this.wheels.push(this.wheel[2]);var e=this.wheelData[0].json.Wheel1Data,t=this.wheelData[1].json.Wheel2Data,i=this.wheelData[2].json.Wheel3Data;this.addItemsOnWheel(e.data,this.wheel[0],1),this.addItemsOnWheel(t.data,this.wheel[1],2),this.addItemsOnWheel(i.data,this.wheel[2],3),this.updateCenterWheel(this.wheel[3]),this.addDiamondOnWheel(36,this.wheel[0],1,this.glows1),this.addDiamondOnWheel(24,this.wheel[1],2,this.glows2),this.addDiamondOnWheel(12,this.wheel[2],3,this.glows3)},a.updateCenterWheel=function(e){var t=p(this.symbol),i=T.getInstance().getWOFSymbol(50);i&&(t.getChildByName("Symbol").getComponent(c).spriteFrame=i.sFrame),e.addChild(t)},a.setDelegateGM=function(e){this._delegateGM=e},a.getDelegateGM=function(){this._delegateGM},a.onLoad=function(){this.changeTheme(),this.changeText(),this.instructionsVisibility(!0,!1,!1,!1),this.initAudios()},a.initAudios=function(){T.getInstance().getGameAudioByType(A.WOF_ROLLING)&&(this.wheelRollingAudio=T.getInstance().getGameAudioByType(A.WOF_ROLLING)),T.getInstance().getGameAudioByType(A.WOF_GLOWING)&&(this.wheelGlowAudio=T.getInstance().getGameAudioByType(A.WOF_GLOWING)),T.getInstance().getGameAudioByType(A.WOF_BETTER_LUCK)&&(this.betterLuckAudio=T.getInstance().getGameAudioByType(A.WOF_BETTER_LUCK))},a.changeTheme=function(){var e=T.getInstance().getUIFileWithName("WOFBack.jpg"),t=T.getInstance().getUIFileWithName("wheel1.png"),i=T.getInstance().getUIFileWithName("wheel2.png"),n=T.getInstance().getUIFileWithName("wheel3.png"),s=T.getInstance().getUIFileWithName("wheel4.png"),a=T.getInstance().getUIFileWithName("goldMirror.png"),l=T.getInstance().getUIFileWithName("mega_jackpot_bar.png"),o=T.getInstance().getUIFileWithName("major_jackpot_bar.png"),h=T.getInstance().getUIFileWithName("WOF_Arrow.png");this.changeTitleAssets(b.Instance.GameLanguage),e&&(this.node.getComponent(c).spriteFrame=e),t&&(this.wheel[0].getComponent(c).spriteFrame=t),i&&(this.wheel[1].getComponent(c).spriteFrame=i),n&&(this.wheel[2].getComponent(c).spriteFrame=n),s&&(this.wheel[3].getComponent(c).spriteFrame=s),a&&(this.wheel[4].getChildByName("stopper").getComponent(c).spriteFrame=a),l&&(this.MegaJackpot.getComponent(c).spriteFrame=l),o&&(this.MajorJackpot.getComponent(c).spriteFrame=o),h&&(this.arrowSFrame=h)},a.changeText=function(){this.MegaJackpot.getChildByName("info").getChildByName("Mega").getComponent(r).string=T.getInstance().getWOFGameTextByKey("Mega"),this.MegaJackpot.getChildByName("info").getChildByName("Jackpot").getComponent(r).string=T.getInstance().getWOFGameTextByKey("Jackpot"),this.MajorJackpot.getChildByName("info").getChildByName("Major").getComponent(r).string=T.getInstance().getWOFGameTextByKey("Major"),this.MajorJackpot.getChildByName("info").getChildByName("Jackpot").getComponent(r).string=T.getInstance().getWOFGameTextByKey("Jackpot"),this.instruction[0].string=F(T.getInstance().getWOFGameTextByKey("Instruction0")),this.instruction[1].string=F(T.getInstance().getWOFGameTextByKey("Instruction1")),this.instruction[2].string=F(T.getInstance().getWOFGameTextByKey("Instruction2"))+" "+this.timeLeft+" "+F(T.getInstance().getWOFGameTextByKey("Seconds")),this.instruction[3].string=this.winPrize>0?T.getInstance().getWOFGameTextByKey("Instruction3")+" "+R(O(this.winPrize,2)):""+T.getInstance().getWOFGameTextByKey("BetterLuck")},a.changeTitleAssets=function(e){var t=T.getInstance().getUIFileWithName(e+"_wheel_of_fortune_text.png");t&&(this.Title.spriteFrame=t)},a.spinWheel=function(){G(this.name,"check1",C.INFO),this.wheelRollingAudio&&V.getInstance().playSoundEffect(this.wheelRollingAudio),this.instructionsVisibility(!0,!0,!0,!1),this.schedule(this.rotateWheel,this.speedRate),this.schedule(this.startTimeOut,1,d.REPEAT_FOREVER,0)},a.startTimeOut=function(){0==this.timeLeft?this._delegateGM.timeOver():(this.timeLeft--,this.instruction[2].string=F(T.getInstance().getWOFGameTextByKey("Instruction2"))+" "+this.timeLeft+" "+F(T.getInstance().getWOFGameTextByKey("Seconds")))},a.playSequenceGlow=function(){var e=this;this.wheelGlowAudio&&V.getInstance().playOneShotSoundEffect(this.wheelGlowAudio),m(this.node).call((function(){e.playGlow(e.glows1)})).delay(.4).call((function(){e.playGlow(e.glows2)})).delay(.4).call((function(){e.playGlow(e.glows3)})).start()},a.playGlow=function(e){for(var t=0;t<e.length;t++)e[t].getComponent("GlowAnimation").enterglowsAnimation()},a.setResults=function(){var e=this.spinResult.shift();if(e){this.currentWheel++;for(var t=this.wheels[this.currentWheel].children,i=0;i<t.length;i++){if(t[i].type==e)if(e==le.REWARD_VALUE){if(0==t[i].value.localeCompare(this.rewardValue)){this.result=t[i];break}}else if(e==le.ARROW){this.result=t[i];break}}}},a.rotateWheel=function(){if(!this.itemFound){this.angleValue=this.angleValue+this.angleChangeValue,G(this.name,"this.currentWheel : "+this.currentWheel,C.INFO);var e=this.currentWheel;-1==this.currentWheel&&(e=0),this.wheels[e].angle=this.angleValue,this.angleValue>=360&&(this.angleValue=0,this.wheelRollingAudio&&V.getInstance().playSoundEffect(this.wheelRollingAudio))}},a.stopWheel=function(e,t,i,n,s){this.spinResult=e,this.rewardValue=t,this.winPrize=i,this.musicId=n,this.animationId=s,this.instructionsVisibility(!0,!1,!1,!1),this.unschedule(this.startTimeOut),this.unschedule(this.rotateWheel),this.spinResult.length>0?(this.setResults(),this.schedule(this.stopAtResult,this.speedRate)):(this.currentWheel=0,this.result=this.wheels[this.currentWheel].children[0],this.schedule(this.stopAtResult,this.speedRate))},a.addItemsOnWheel=function(e,t,i){for(var n,s=360/e.length,a=90,l=0;l<e.length;l++)n=e[l].value?e[l].value:0,this.addItemOnWheel(a,t,e[l].type,n,i),a-=s},a.addDiamondOnWheel=function(e,t,i,n){for(var s=360/e,a=0;a<e;a++){var l=void 0,o=void 0,h=void 0;switch(i){case 1:l=.415*t.getComponent(w).width,o=s*a+15,h=p(this.glow);break;case 2:l=.4*t.getComponent(w).width,o=s*a+8,h=p(this.glow);break;case 3:l=.34*t.getComponent(w).width,o=s*a+15,h=p(this.glow2)}var r=.01745*o,u=l*Math.cos(r),c=l*Math.sin(r);h.angle=o+180,h.position=new y(u,c,0),t.addChild(h),n.push(h)}},a.addItemOnWheel=function(e,t,i,n,s){var a;switch(s){case 1:a=.42*t.getComponent(w).width;break;case 2:a=.41*t.getComponent(w).width;break;case 3:a=.36*t.getComponent(w).width}var l,o=.01745*e,h=a*Math.cos(o),r=a*Math.sin(o);switch(i){case le.ARROW:l=p(this.arrow),this.arrowSFrame&&(l.getChildByName("ArrowSymbol").getComponent(c).spriteFrame=this.arrowSFrame),l.attr({type:le.ARROW});break;case le.REWARD_VALUE:l=p(this.symbol);var u=T.getInstance().getWOFSymbol(this.symbolCount);u&&(l.getChildByName("Symbol").getComponent(c).spriteFrame=u.sFrame),u&&l.attr({value:u.id}),l.attr({type:le.REWARD_VALUE}),this.symbolCount++}l.angle=e+180,l.position=new y(h,r,0),t.addChild(l)},a.showWinAnimation=function(e){var t=new v(this.winAnimation,"WinAnimation",this.node);t.cScript.createAnimationClip(e),t.cScript.playAnimation()},a.stopAtResult=function(){var e,t;this.itemFound||(this.angleValue=this.angleValue+this.angleChangeValue-.05*this.speedRate,this.wheels[this.currentWheel].angle=this.angleValue,this.angleValue>=360&&(this.angleValue=0,this.wheelRollingAudio&&V.getInstance().playSoundEffect(this.wheelRollingAudio))),!this.itemFound&&f.rectRect(null==(e=this.result.getComponent(w))?void 0:e.getBoundingBoxToWorld(),null==(t=this.stopper.getComponent(w))?void 0:t.getBoundingBoxToWorld())&&(this.wheelRollingAudio&&V.getInstance().playSoundEffect(this.wheelRollingAudio),this.itemFound=!0,this.resultAngle=this.wheels[this.currentWheel].angle),this.itemFound&&!this.atZeroAngle&&this.moveToZero(),this.atZeroAngle&&this.moveToResult()},a.moveToZero=function(){this.stopChange=this.stopChange-20*this.speedRate,this.angleValue=this.angleValue+this.stopChange,this.wheels[this.currentWheel].angle=this.angleValue,this.angleValue>=360&&(this.wheelRollingAudio&&V.getInstance().playSoundEffect(this.wheelRollingAudio),this.angleValue=0,this.atZeroAngle=!0)},a.moveToResult=function(){var e=this;this.stopChange=this.stopChange-20*this.speedRate,this.angleValue=this.angleValue+this.stopChange,this.wheels[this.currentWheel].angle=this.angleValue,this.angleValue>=this.resultAngle&&(this.angleValue=0,this.unschedule(this.stopAtResult),this.spinResult.length>0?(this.itemFound=!1,this.interctDone=!1,this.atZeroAngle=!1,this.result=null,this.speedRate=.001,this.stopChange=this.angleChangeValue,this.angleValue=0,this.resultAngle=-1,this.setResults(),this.schedule(this.stopAtResult,this.speedRate)):(this.instructionsVisibility(!0,!1,!1,!0),this.instruction[3].string=this.winPrize>0?T.getInstance().getWOFGameTextByKey("Instruction3")+" "+R(O(this.winPrize,2)):""+T.getInstance().getWOFGameTextByKey("BetterLuck"),this.winPrize>0?(this.musicId&&V.getInstance().playSoundEffect(T.getInstance().getpaylineAudioById(this.musicId)),this.animationId&&this.showWinAnimation(this.animationId)):this.betterLuckAudio&&V.getInstance().playSoundEffect(this.betterLuckAudio),this._delegateGM.updateTokens(),this.repeatForeverAction=m(this.node).repeat(2,m().call((function(){e.winPrize>0&&e.playSequenceGlow()})).delay(1.5).union()).call((function(){e.goBackToGame()})).start()))},a.goBackToGame=function(){this.unscheduleAllCallbacks(),this.speedRate=.001,this.stopChange=this.angleChangeValue,this.angleValue=0,this.resultAngle=-1,this.timeLeft=7,this.instruction[2].string=F(T.getInstance().getWOFGameTextByKey("Instruction2"))+" "+this.timeLeft+" "+F(T.getInstance().getWOFGameTextByKey("Seconds")),this.itemFound=!1,this.interctDone=!1,this.atZeroAngle=!1,this.rotationAction=null,V.getInstance().stopSoundEffect(),this.currentWheel=-1,this.instructionsVisibility(!0,!1,!1,!1),this._delegateGM.canSpinAgain()},a.enterWheelsAnimation=function(){var e=this;m(this.node).call((function(){e.wheel[3].getComponent(W).play("wheelEntry")})).delay(.8).call((function(){e.wheel[2].getComponent(W).play("wheelEntry")})).delay(.6).call((function(){e.wheel[1].getComponent(W).play("wheelEntry")})).delay(.6).call((function(){e.wheel[0].getComponent(W).play("wheelEntry")})).delay(1).call((function(){e.wheel[4].getComponent(W).play("stopperWOFEntry")})).delay(1.5).call((function(){e.playSequenceGlow(),e.instructionsVisibility(!0,!1,!1,!1)})).start()},a.showWOF=function(e,t){this.node.active=!0,this.speedRate=.001,this.stopChange=this.angleChangeValue,this.angleValue=0,this.resultAngle=-1,this.timeLeft=7,this.itemFound=!1,this.interctDone=!1,this.atZeroAngle=!1,this.rotationAction=null,this.currentWheel=-1,this.MegaJackpot.getChildByName("MagaValue").getComponent(r).string="$"+R(O(b.Instance.MegaPrize,2)),this.MajorJackpot.getChildByName("MajorValue").getComponent(r).string="$"+R(O(b.Instance.MajorPrize,2)),this.touchRestriction.active=!0,this.node.getComponent(W).play("fadeEntry"),this.scheduleOnce(this.enterWheelsAnimation,1)},a.instructionsVisibility=function(e,t,i,n){this.instruction[0].node.active=e,this.instruction[1].node.active=t,this.instruction[2].node.active=i,this.instruction[3].node.active=n},t}(I)).prototype,"wheel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=t(P.prototype,"wheelData",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=t(P.prototype,"instruction",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=t(P.prototype,"symbol",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(P.prototype,"arrow",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(P.prototype,"glow",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(P.prototype,"glow2",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(P.prototype,"stopper",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(P.prototype,"touchRestriction",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(P.prototype,"Title",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(P.prototype,"MegaJackpot",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(P.prototype,"MajorJackpot",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(P.prototype,"winAnimation",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=P))||J));a._RF.pop()}}}));

System.register("chunks:///_virtual/WinAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Asset.ts"],(function(n){"use strict";var t,i,e,o,r,a,s,c,l,u;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,s=n.Animation,c=n.AnimationClip,l=n.Component},function(n){u=n.Asset}],execute:function(){var p,m,f,h,A;r._RF.push({},"e97b2hB89BE+4npuL4HxSEZ","WinAnimation",void 0);var v=a.ccclass,y=a.property;n("WinAnimation",(p=v("WinAnimation"),m=y(s),p((A=t((h=function(n){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=n.call.apply(n,[this].concat(r))||this,e(t,"winAnimation",A,o(t)),t}i(t,n);var r=t.prototype;return r.start=function(){this.winAnimation.on(s.EventType.FINISHED,this.removeItself,this)},r.update=function(n){},r.createAnimationClip=function(n){var t=u.getInstance().getPaylineAnimationById(n);if(t.length>0){var i=c.createWithSpriteFrames(t,t.length),e=this.winAnimation.getComponent(s).createState(i,"AC");e.repeatCount=1,e.speed=30/t.length}},r.overlayButtonCallBack=function(n,t){this.removeItself()},r.removeItself=function(){this.winAnimation.stop(),this.node.removeFromParent()},r.playAnimation=function(){this.winAnimation.play("AC")},t}(l)).prototype,"winAnimation",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});